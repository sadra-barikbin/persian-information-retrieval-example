آقامحمدخان در سال ۱۷۴۲ م/۱۲۱۱ ه‍.ق در استرآباد متولد شد. پدرش محمدحسن‌خان قاجار نام داشت و پدربزرگش فتحعلی‌خان قاجار بود. در زمان تولد محمد، پدر او در بیابان‌های قره‌قوم و تحت حفاظت ترکمن‌های یموت مخفی شده بود. دلیل این اختفا، دشمنی و رقابت میان دو شاخهٔ ایل قاجار، یعنی قوانلوها و دَوَلوها بود. محمدحسن‌خان از شاخهٔ قوانلو بود و در این زمان، خوانین شاخهٔ رقیب از قدرت بیشتری برخوردار بودند.

محمد و مادرش، دختر اسکندرخان قوانلو، در استرآباد در خانهٔ شخصی به نام سید مفید ساکن بودند. دو سال پس از تولد او، در ۱۷۴۴ م، محمدحسن‌خان که با یک مدعی صفوی به نام سام میرزا در ارتباط بود، به استرآباد یورش برد. این حمله نه تنها علیه دولوها بود، بلکه به همان اندازه علیه نادرشاه نیز بود. محمدحسن‌خان ۲٬۰۰۰ سرباز ایلاتی قجری و ۱٬۰۰۰ سرباز از ترکمن‌های یموت با خود داشت. او به فتح آسانی دست پیدا کرد و محمدزمان‌خان دولو، پسر بیگلربیگی شهر محمدحسین‌خان دولو که در این زمان در استرآباد نبود، از شهر گریخت.

اگرچه، محمدحسن‌خان با مقاومت زیادی روبرو نشد اما بخت به زودی از او برگشت؛ مدعی صفوی پیش از آغاز شورش دستگیر شد، یموت‌ها سهم خود از خزانهٔ شهر را برداشتند و رفتند و بیگلربیگی مازندران که قول همکاری داده بود، هم به یاری او نیامد. نتیجتاً، سردار اعزامی نادرشاه، بهبودخان، به آسانی او را در چند نبرد در شرق شهر شکست داد. محمدحسن‌خان مجدداً به بیابان‌های قره‌قوم گریخت. پس از شکست محمدحسن‌خان، بهبودخان انتقام سختی از قاجارهای اشاقه‌باش که قوانلوها هم بخشی از آن‌ها بودند، گرفت. اگر محمد و مادرش هنوز در خانهٔ سید مفید در استرآباد بودند، از بخت خوبشان توجه بهبودخان به حضور آن‌ها جلب نشد.

محمدحسن‌خان چندی بعد به خیوه که تحت حاکمیت نادرشاه بود، حمله برد اما مجدداً شکست خورد و گریخت. با قتل نادرشاه در ۱۷۴۷ م/۱۱۶۰ ه‍. ق، محمدحسن‌خان دوباره تلاش کرد استرآباد را تسخیر کند اما این بار توسط عادل‌شاه شکست داده شد. چون عادل‌شاه وارد شهر شد، پسر او، محمد را، که در این زمان شش ساله بود، دستگیر کرد و به مشهد فرستاد. عادل‌شاه بنا داشت او را بکشد، اما به اخته کردنش بسنده کرد؛ به همین دلیل است که محمد را «آغا» خوانده‌اند.