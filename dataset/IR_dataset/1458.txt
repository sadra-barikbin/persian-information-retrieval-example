خودسری و ناسازگاری با محمدخان شرف‌الدین اوغلی حاکم هرات، دستور جمع‌آوری سپاه از طوایف و برنامه‌ریزی برای لشکرکشی به عثمانی با توجه به پیمان آماسیه، محبوبیت شاه اسماعیل دوم پس از پیروزی‌های مختلف بر عثمانی‌ها، حسادت یا نگرانی شاه تهماسب از ترس گرفتن منصب پادشاهی توسط اسماعیل میرزا و به ستوه آمدن شاه از ولنگاری و عیاشی‌های شاهزاده اسماعیل باعث گردید، شاه تهماسب پسرش اسماعیل را از هرات به قزوین بیاورد و دوباره محمد خدابنده را به جای وی به هرات بفرستد. دستور آوردن اسماعیل میرزا از هرات توسط سوندوک‌بیگ افشار اجرا گردید. معصوم‌بیگ صفوی وزیر اعظم شاه وی را در ساوه تحویل گرفت و به قلعه قهقهه برد و زندانی کرد. در قزوین بسیاری طرفداران و هواخواهان شاهزاده اسماعیل نیز کور، اعدام یا تبعید شدند.

دانشنامه ایرانیکا می‌نویسد: «جنگجویی و رؤیاپروری اسماعیل میرزا باعث گردید شاه تهماسب به وی مظنون شود و ترسید که مبادا پسرش علیه او توطئه نماید؛ بنابراین شاه در سال ۱۵۵۷ میلادی وی را به زندان قهقهه انداخت.» برخی مورخین سبب زندانی شدن او را اهمال در کار فرماندهی هنگام یکی از جنگ‌های عثمانی و ایران که به شکست ایران منجر شده بود برشمرده‌اند. اسکندر بیگ ترکمان دربارهٔ علت زندانی شدن اسماعیل میرزا دلایل "مصالح ملکی" و "مصالح ملکی و پاس دولت" را در کتاب خود ذکر می‌کند.

وینچنزو دلی الساندری دربارهٔ دلیل حبس اسماعیل در سفرنامه ونیزیان می‌نویسد: «این اسماعیل به خصوص محبوب پدر است. اما پدر از او سخت هراسان است و می‌بیند که مردم با چه اشتیاقی آرزوی پادشاه شدن او را دارند و امیران [قزلباش] نیز به ویژه از او به سبب طبع مغرور و سرکشی که دارد بیمناک هستند.»

به فرمان شاه تهماسب، در اواسط ماه مه ۱۵۵۷ میلادی، اسماعیل میرزا در سن ۲۴ سالگی به زندان می‌افتاد و تا ۴۳ سالگی مدت حبس او ادامه پیدا می‌کند. اسماعیل میرزا ۲۰ سال در آن زندان اسیر بود. اسکندربیگ منشی در تاریخ عالم آرای عباسی طول مدت حبس وی را نوزده سال و شش ماه و بیست و یک روز بر حسب سال قمری یا نوزده سال و چهار روز با محاسبه گاهشماری غربی، ذکر می‌کند. روز خروج از قلعه به گفته حسن روملو در احسن التواریخ ۲۱ مه ۱۵۷۶ میلادی است؛ بنابراین زمان ورود به قلعه با ۱۷ مه ۱۵۵۷ میلادی برابر می‌گردد.

فرماندهان قلعه هر ۲ سال یک بار عوض می‌شدند و از طرف شاه تهماسب دستور اکید داشتند که از اسماعیل میرزا سخت مراقبت کنند. ظاهراً در مدت آغازین حبس، وی را در غل و زنجیر نگاه می‌داشتند ولی بعدها آزادی عمل بیشتری به وی دادند چنانچه می‌توانست به فضای باز جلوی قلعه بیاید و هوای آزاد کوهسار را تنفس کند. اغلب در پای دیوار پر شیب قلعه، قلندرهایی جمع می‌شدند و اتراق می‌کردند و اسماعیل میرزا از برج و قرارگاه خود با آنان صحبت می‌کرد و صدقه‌ای برایشان به پایین می‌انداخت. اسماعیل میرزا توسط آنان اطلاعاتی دربارهٔ رخدادها و اخبار کشور به دست می‌آورد.

شاه اسماعیل دوم در سال‌های طولانی در زندان مجالی پیدا کرد تا بیشتر بیندیشد و متوجه پیامدهای کینه‌توزی مذهبی و غلو در تبرا که در آن زمان ملازم با لعن به مقدسان مذهبی سنیان بود گردید و آن را برای دنیای اسلام و مسلمانان زیان‌بخش دانست. اسماعیل میرزا بیشتر وقت خود را در زندان، صرف مطالعه کتاب می‌کرد. او در زندان شعر می‌سرود و به صوفیان قلندر نامه می‌نوشت. اسماعیل میرزا در زندان کتاب‌هایی می‌خواند که بی‌تردید بسیاری از آن‌ها دربارهٔ اصول و احکام مذهب شیعه بود که وی را در درک نادرست بودنِ لعن به صحابه پیامبر اسلام یاری نمود.

وینچنزو دلی الساندری گزارش می‌دهد که شاه تهماسب گاهی دختران زیبایی را برای تفریح خاطر اسماعیل میرزا به دژ می‌فرستاد ولی وی هیچ اعتنایی به آن‌ها نمی‌کرد و دلیل رفتار خود را چنین توجیه می‌کرده که همین قدر کافی است که با شکیبایی مدت زندان خود را تحمل کنم و اصولاً نمی‌خواهد کودکانش در محبس متولد شوند. از آن گذشته این زنان حتی شایسته غلامان نیز نیستند. اسماعیل میرزا برای نرم کردن دل پدر دست به این امور می‌زد تا بلکه شاه برای آزادی وی ترغیب گردد.

اسماعیل میرزا در زندان به تریاک و حشیش اعتیاد پیدا کرده بود و با گذشت زمان مصرفش بیشتر می‌شد. اعتیاد وی به حدی رسیده بود که روزانه ۴۷ درهم فلونیا مصرف می‌کرد. اعتیاد به انواع مواد مخدر، بنیه و جسم اسماعیل میرزا را ضعیف و نحیف کرده بود.

ماجرای حبس اسماعیل میرزا در قلعه قهقهه همه جای کشور پیچیده بود. بسیاری از قزلباش‌ها آرزو داشتند او ولیعهد گردد، زیرا محمد میرزا (محمد خدابنده) از کم بینایی رنج می‌برد و توانایی اداره کشور را نداشت. اسماعیل میرزا در مجموع ۱۹ سال و ۶ ماه و ۲۱ روز در زندان قهقهه محبوس بود.

سر پرسی سایکس در کتاب تاریخ ایران و ذبیح‌الله صفا نیز در کتاب خلاصه تاریخ سیاسی، اجتماعی و فرهنگی ایران، مدت حبس اسماعیل میرزا را ۲۵ سال ذکر کرده‌اند.