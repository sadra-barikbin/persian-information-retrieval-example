چادر آغامحمدخان قاجار را در یک مایلی شهر برپا کردند و او شخصاً محاصره را رهبری می‌کرد. به گفته تاریخ کرمان: «[خان قاجار] فرمان داد از بنایان و دیوارگان در لشکرگاه حاضر کردند و از بیرون شهر در برابر هر برجی از حصار، برجی (از چوب) برآوردند و میان برج‌ها را خندقی کنده و استوار داشتند و مدت پنج ماه شبانه روز به حرب و توپ و تفنگ مشغول بودند و از فرود زیر برج‌ها نقب (سوراخ) می‌زدند. بسیاری بودی که از میان نقب‌ها از دو سوی لشکریان دست و گریبان شده با تیغ و خنجر یکدیگر را مقتول می‌کردند.» در داخل شهر، لطفعلی‌خان زند سپاه خود را چهار بخش کرده بود و هر کدام را به حفاظت یکی از باروهای شهر گماشته شد. در برخی از روزها، او با سپاهش از شهر خارج می‌شد، حملاتی را به سپاه قاجاری ترتیب می‌داد و مجدداً به داخل شهر بازمی‌گشت.

یک ماه از محاصره نگذشته بود که شهر از نظر آذوقه با کمبود مواجه شد. لطفعلی‌خان تصمیم گرفت تا «۱۲ هزار کس از فقرا و عجزه و کسبه شهر» را از کرمان بیرون کند. با گذشت زمان، تأمین خوراک موردنیاز شهر سخت‌تر می‌شد. به گفته احمدعلی‌خان وزیری مؤلف تاریخ کرمان «آتش قحط و غلا در شهر بالا گرفت. بعضی مردم به پوست و پشکل گوسفند تغذیه می‌کردند. برخی به هسته خرمان و تراشه نجاری سد جوع می‌نمودند. کاه‌گل بیشتر خانه‌ها را تراشیده و شسته و برای علیق اسبان سپاهیان بردند. سگ‌ها و گربه‌ها را خوردند.» خان زند مجدداً تصمیم به بیرون کردن تعدادی از شهر گرفت. او ۱۲ هزار تن را که این بار زنان نیز در میانشان بودند را از کرمان بیرون کرد. آغامحمدخان قاجار دستور داد تا آن‌ها را در روستاهای اطراف متفرق کنند. شب‌ها، زن‌ها و کودکان به بالای پشت بام‌ها می‌رفتند و برای تضعیف روحیه ارتش آغامحمدخان، تصنیف‌هایی در تمسخر خان قاجار سر می‌دادند.

قاسم‌خان جوپاری که توسط لطفعلی‌خان مسئول حفاظت از باروی شرقی شهر شده بود، تصمیم گرفت تا دروازه را بر روی سپاهیان آغامحمدخان باز کند. او با گروهی از افسرانی که آن طرف سیبه حضور داشتند قرار گذاشت که فردا قشون قجری را وارد شهر کنند. به گفته مؤلف تاریخ کرمان، برداشت اشتباه از کلمه «فردا» این نقشه را خراب کرد. قاسم‌خان و تفنگدارانش روز بعد در بالای برج فریاد برآوردند: «دوران، دوران آقامحمدشاه!» و شروع به تیراندازی کردند، اما خبری از نیروهای آن سوی سیبه نشد. سایر نگهبانان که این وضع را دیدند، به سمت قاسم‌خان و مردانش رفتند. او نیز که وضع خود را مناسب نمی‌دید، با دو تن از یارانش خود را از بالای برج به پایین پرتاب کردند تا به سمت اردوی قاجار فرار کنند. اما قاسم‌خان را در آن سوی بارو دستگیر کردند. لطفعلی‌خان دستور داد تا او را قطعه‌قطعه کنند. این توطئه خنثی شد، اما وضعیت لطفعلی‌خان زند آنگونه نبود که بتواند به مقاومت ادامه دهد. دربارهٔ اینکه چه اتفاقی پس از آن افتاد، دو روایت وجود دارد. به گفته تاریخ گیتی‌گشا، نجف‌قلی‌خان خراسانی که جانشین قاسم‌خان در حفاظت از باروی شرقی شده بود، با سپاه بیرون هم داستان شد و در ۲۹ ربیع‌الاول ۱۲۰۹ قمری ۱۲ هزار سپاهی قجری را وارد شهر کرد. به گفته مؤلف تاریخ کرمان، جناح شرقی مورد حمله قرار گرفت و «نجف‌قلی‌خان خراسانی و میرزاخان افشار هرچه سعی کردند که قشون شاهی (سپاه قاجار) را دفع و رفع کنند، ممکن نشد. همه حصار به تصرف لشکر شیرشکار درآمد.» باستانی پاریزی با توجه به اینکه نجف‌قلی‌خان خراسانی توسط آغامحمدخان کشته شد، روایت دوم را صحیح می‌داند. به هر صورت محاصره پایان یافت. آغامحمدخان قاجار پیروز شده بود.