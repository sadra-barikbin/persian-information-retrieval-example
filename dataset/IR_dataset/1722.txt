دیری نپایید که عادل‌شاه توسط ابراهیم‌شاه برکنار و در ۱۷۴۹ م، توسط شاهرخ‌شاه کشته شد. اندکی پس از مرگ او آقامحمد پیش خانوادهٔ خود بازگشت و در ۱۰ سال آینده پدرش را در ماجراجویی‌هایش همراهی کرد. در این زمان، آرایش قدرت در ایران از این قرار بود: بازماندگان نادر بسیار تضعیف شده بودند؛ احمدشاه درانی و افغان‌های ابدالی تقریباً قدرت در خراسان را در دست داشتند؛ اصفهان در دست علی‌مرادخان و بختیاری‌ها بود؛ فارس و لرستان تحت حکومت کریم‌خان زند بودند و آزادخان افغان بر آذربایجان حکومت می‌کرد؛ محمدحسن‌خان که رؤیای پادشاهی ایران را در سر داشت، در گرگان و مازندران قدرت اصلی بود و اندکی بعد گیلان را هم تحت حاکمیت خود گرفت. در ۱۷۵۱ م، کریم‌خان زند در کرمانشاه علی‌مرادخان و بختیاری‌ها را محاصره کرد. محمدحسن‌خان قاجار برای کمک به او، به غرب ایران لشکر کشید اما با شنیدن شکست علی‌مرادخان، به استرآباد عقب نشست؛ آن هم درحالی که کریم‌خان زند و نیروهایش در تعقیب او بودند. با این حال، قاجارها با کمک یموت‌ها، موفق شدند کریم‌خان را به تهران عقب برانند. محمدحسن‌خان چند سال آینده را به برقراری نظم در شمال ایران پرداخت. او در ۱۷۵۵ م، لشکر ابدالی را در سبزوار شکست داد؛ یک سال بعد، به سمت اصفهان لشکر کشید و پایتخت ایران را فتح کرد.

محمدحسن‌خان در ادامه در گلون‌آباد کریم‌خان را شکست داد اما با شنیدن حملهٔ آزادخان مجبور به عقب‌نشینی شد. او در چند نبرد، آزادخان را شکست داد و او را مجبور به فرار به قلمروی عثمانی کرد. سپس پسرش آقامحمدخان را به عنوان نایب خود در تبریز گماشت. این زمان اوج قدرت محمدحسن‌خان بود، زمانی که از تبریز تا یزد به نام او سکه می‌زدند اما بخت محمدحسن‌خان به سرعت تیره شد. او در اواخر ۱۷۵۷ م. از اصفهان به سمت شیراز به راه افتاد و کریم‌خان را در آن شهر محاصره کرد. در طول چند ماه، سپاهش به مضیقه افتاد و مجبور به عقب‌نشینی شد. کریم‌خان یکی از سرداران کارآمد خود، شیخ‌علی‌خان را به تعقیب او فرستاد. محمدحسن‌خان برای پناه گرفتن در استرآباد به سوی مازندران می‌رفت اما اعمال پیروان خودش، از جمله محمدحسین‌خان دولو، مجبورش کرد که در شرایط نامساعدی با سپاه زند روبرو شود. اگرچه، محمدحسن‌خان در نبرد از خود شجاعت نشان داد اما در زمان فرار توسط محمدخان سوادکوهی در فوریه ۱۷۵۸ م. کشته شد. سر بریدهٔ او را نزد شیخ‌علی‌خان زند فرستادند و او نیز برای کریم‌خان فرستاد. کریم‌خان دستور داد سر محمدحسن‌خان را با گلاب بشویند و در حرم عبدالعظیم حسنی به خاک سپارند.

پس از آن، کریم‌خان زند وارد استرآباد شد و خزانهٔ شهر را برای خود برداشت. او محمدحسین‌خان دولو را به عنوان بیگلربیگی آن ایالت منصوب کرد. آقامحمدخان پس از مرگ پدر خود، گریخته بود اما اندکی بعد توسط محمدخان سوادکوهی که محل اختفای او را می‌دانست، دستگیر شد. وی آقامحمدخان و همراهانش را به تهران نزد کریم‌خان زند فرستاد. وکیل از آنان دلجویی کرد و دستور داد آقامحمدخان و نزدیکانش را به دامغان بفرستند. آقامحمدخان دو سال در آنجا ماند؛ تا اینکه بنا به توصیه محمدحسین‌خان قاجار، آنان را مجدداً به تهران فراخواند. کریم‌خان گروهی از آن‌ها که محمدخان نیز یکی از آنان بود را به عنوان اسیر، به شیراز فرستاد. مدتی بعد، برادر تنی او حسین‌قلی‌خان (جهانسوز، پدر فتحعلی‌شاه) را هم به شیراز منتقل کرد. آنجا خدیجه‌بیگم، عمهٔ آن‌ها که همسر کریم‌خان بود، از آن‌ها حمایت کرد. کریم‌خان به دو برادر دیگرشان، مصطفی‌قلی‌خان و مرتضی‌قلی‌خان، چون مادرشان خواهر محمدحسین‌خان دولو بود، اجازه داد در استرآباد بمانند. پنج پسر دیگر محمدحسن‌خان را هم به قزوین فرستادند.