لطفعلی‌خان و سپاهیانش، در راه پایتخت، از جزئیات اتفاقاتی که در شهر پیش آمده بود، خبردار شدند. امیدِ خان زند به این بود که عناصر وفادار به زندیه در شیراز راه را برای ورود او و سپاهیانش باز خواهند کرد. اما این گونه پیش نرفت. برنامه بعدی لطفعلی‌خان ممانعت از ورود آذوقه کافی به شهر بود. اما از آنجایی که خود، پیش از این، شهر را برای محاصره توسط سپاه قاجار آماده کرده بود و آذوقه کافی در شهر وجود داشت، این تصمیم نیز نمی‌توانست راه به جایی ببرد. در این زمان، خستگی و بی‌حوصلگی بر سپاه لطفعلی مستولی شد.

نکته‌ای که موقعیت حاج ابراهیم کلانتر را تقویت می‌کرد، این بود که خانواده سلطنتی و خانواده سران سپاه در داخل شهر گروگان او بودند و به همین دلیل می‌توانست از آن‌ها برای وادار کردن سرداران لطفعلی‌خان به مصالحه استفاده کند. او نامه‌ای برای لشکریان لطفعلی‌خان زند فرستاد و آن‌ها را تهدید کرد که اگر دست از وفاداری به لطفعلی‌خان برندارند از زنان و فرزندانشان تاوان خواهد ستاند. تعدادی از این نامه‌ها به دست لطفعلی‌خان رسید. خان زند به سر هارفورد جونز در این رابطه گفت که «همراهانم این نامه‌ها را پیش من آوردند و گفتند که چون امیدی به تسخیر پایتخت ندارند، نمی‌خواهند زن و فرزندانشان را در معرض خشونت حاج ابراهیم رها کنند.»

لطفعلی فرستاده‌ای نزد حاج ابراهیم فرستاد تا سبب خیانت او را جویا شود. کلانتر به او پاسخ داد که «من بر اراده تو آگاه شدم و دانستم که در عهد اقتدار تو به جایی نخواهم رسید و روزگارم را تباه خواهی ساخت لهذا محض حفظ سلامتی تو خود تو را از ملک آواره کردم. دیگر از شیراز قطع امید و ترک نوید کن.» گویند لطفعلی‌خان از شنیدن پاسخ ابراهیم کلانتر خندید و گفت که کلانتر «هرچه باشد شهری است و همراهانش اهالی بازارند و تاب مقاومت در برابر سپاهیان و ایلات را ندارند.»

ظاهراً هدف ابتدایی حاج ابراهیم تنها بیرون راندن لطفعلی‌خان از شیراز و در اختیار گرفتن کنترل شهر بود. اما پس از مشاهده تحرکات لطفعلی‌خان زند، پیکی را نزد آغامحمدخان قاجار فرستاد و او را در جریان اتفاقات قرار داد. او تقاضا کرد که آغامحمدخان نماینده‌ای به شیراز بفرستد تا شهر را در دست و خزاین لطفعلی‌خان را تحویل بگیرد. آغامحمدخان در حال بازگشت از آذربایجان بود که پیام کلانتر را دریافت کرد. این یک فرصت پیش‌بینی نشده برای آغامحمدخان بود و او می‌توانست با تسخیر پایتخت زندیه، هم فارس را تسخیر کند و سلسله زند را نابود سازد. او میرزا رضاقلی نوایی منشی‌الممالک را مأمور کرد که به سمت اصفهان، محل استقرار باباخان (فتحعلی‌شاه آینده) برود و از آنجا به اتفاق مصطفی‌خان قاجار با سه هزار سپاهی راهی شیراز شود، دارایی زندیان را تصاحب کند و خانواده لطفعلی‌خان را به تهران بیاورد. آغامحمدخان همچنین حاج ابراهیم کلانتر را به عنوان بیگلربیگی فارس منصوب کرد. محمدزمان شیرازی که برادر حاج ابراهیم بود نیز به جای وی عنوان کلانتر شیراز یافت.