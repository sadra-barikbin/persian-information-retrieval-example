ورود به شوشی در ۱۷۹۷ م/۱۲۱۱ ه‍. ق، زمینه‌ساز پایان زندگی آقامحمدشاه شد. مطابق روایت‌های موجود، در سومین روز اقامت در شوشی، یک درگیری میان دو تن از خدمتکاران، صادق گرجی و خداداد اصفهانی، رخ داد. آن‌ها سر و صدایی بلند کردند که باعث آشفتگی شاه شد و وی دستور داد اعدامشان کنند. صادق‌خان شقاقی، از سرداران آقامحمدشاه، تلاش کرد وساطت کند و آن دو خدمتکار را از مرگ رهاند اما شاه نپذیرفت. صادق‌خان به او یادآوری کرد که چون جمعه است، بهتر است آن را به روز دیگری منتقل کند؛ آقامحمدشاه نیز پذیرفت که یک روز اجرای حکم را عقب بیندازد. با اعتماد به نفسی فوق‌العاده یا حماقتی عجیب، شاه اجازه داد که آن خدمتکاران به وظیفه خود ادامه دهند و دستور به دستگیریشان نداد. آن‌ها نیز مرگ خود را حتمی می‌دیدند، در ۱۶ ژوئن ۱۷۹۷ م/۲۱ ذی‌الحجه ۱۲۱۱ ه‍.ق با همکاری یک خدمتکار دیگر به نام عباس مازندرانی، بر سر او ریختند و کشتندش.

مرگ آقامحمدشاه در مجموع اتفاق مبهمی است. مشخص نیست که این روایت حقیقت دارد یا اینکه توطئه بزرگ‌تری برای قتل او در جریان بوده‌است. ممکن است صادق‌خان شقاقی برنامه‌ریز نقشه‌ای جهت قتل شاه بوده باشد یا اینکه آن دسته از خوانین قفقاز که با روسیه همکاری کردند، از ترس آقامحمدشاه برنامه قتلش را ریختند. شاید صادق‌خان گرجی یکی از بازماندگان نبرد کرتسانیسی و کشتار تفلیس بوده باشد.

به هر حال، آن ۳ خدمتکار جواهرات شاه از جمله دریای نور و تاج ماه را برداشتند و به صادق‌خان شقاقی تحویل دادند. او نیز آن ۳ تن را تحت مراقبت خود گرفت. صادق‌خان سپس با سربازان خود به تبریز تاخت و اردوی شاهی در شوشی نیز به غارت رفت. آشوب در سپاه آقامحمدشاه بالا گرفت و ابراهیم‌خان کلانتر، در پی ایجاد نظم، گروهی را به فرماندهی حسینقلی‌خان (برادر فتحعلی‌شاه) از راه تالش، شفت و رشت به تهران فرستاد و خود با تفنگچیان فارسی و مازندرانی از اردبیل و زنجان به دارالخلافه بازگشت.

جسد آقامحمدشاه توسط علمای شوشی دفن شد. بعدها که فتحعلی‌شاه در تهران مستقر گردید، دستور داد بقایای او را به تهران منتقل کرده و در حرم عبدالعظیم حسنی دفن کنند. مدتی بعد، مجدداً او را نبش قبر کرده و جسدش را با تشریفاتی خاص به نجف انتقال دادند و پشت ضریح علی به خاک سپردند. فتحعلی‌شاه همچنین صادق‌خان شقاقی را بعدها در جنگی شکست داد و جواهرات سلطنتی را پس گرفت. قاتلان نیز دستگیر شدند و به دستور شاه با جدا کردن مفاصل و زنده زنده به آتش کشیدن، کشته شدند.